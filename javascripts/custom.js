function getNav(){var a=$("ul.main-navigation, ul[role=main-navigation]").before('<fieldset class="mobile-nav">'),b=$("fieldset.mobile-nav").append("<select>");b.find("select").append('<option value="">Navigate&hellip;</option>');var c=function(){b.find("select").append('<option value="'+this.href+'">&raquo; '+$(this).text()+"</option>")};a.find("a").each(c),$("ul.subscription a").each(c),b.find("select").bind("change",function(a){a.target.value&&(window.location.href=a.target.value)})}function addSidebarToggler(){$("body").hasClass("sidebar-footer")||($("#content").append('<span class="toggle-sidebar"></span>'),$(".toggle-sidebar").bind("click",function(a){a.preventDefault(),$("body").hasClass("collapse-sidebar")?$("body").removeClass("collapse-sidebar"):$("body").addClass("collapse-sidebar")}));var a=$("aside.sidebar > section");a.length>1&&a.each(function(b,c){a.length>=3&&0===b%3&&$(c).addClass("first");var d=(b+1)%2?"odd":"even";$(c).addClass(d)}),a.length>=3&&$("aside.sidebar").addClass("thirds")}function testFeatures(){var a=["maskImage"];$(a).map(function(a,b){Modernizr.testAllProps(b)?$("html").addClass(b):$("html").addClass("no-"+b)}),"placeholder"in document.createElement("input")?$("html").addClass("placeholder"):$("html").addClass("no-placeholder")}function addCodeLineNumbers(){"Microsoft Internet Explorer"!==navigator.appName&&$("div.gist-highlight").each(function(a){for(var b='<table><tbody><tr><td class="gutter">',c='<pre class="line-numbers">',d='</pre></td><td class="code">',e="</td></tr></tbody></table>",f=$(".line",a).length,g=1;f>=g;g++)c+='<span class="line-number">'+g+"</span>\n";var h=b+c+d+"<pre>"+$("pre",a).html()+"</pre>"+e;$(a).html(h)})}function flashVideoFallback(){var a="/assets/jwplayer/player.swf",b="/assets/jwplayer/glow/glow.xml";$("video").each(function(c,d){d=$(d),(!Modernizr.video.h264&&swfobject.getFlashPlayerVersion()||-1!==window.location.hash.indexOf("flash-test"))&&(d.children("source[src$=mp4]").first().map(c,function(c){var e=$(c).attr("src"),f="video_"+Math.round(1+1e5*Math.random()),g=d.attr("width"),h=parseInt(d.attr("height"),10)+30;d.after('<div class="flash-video"><div><div id='+f+">"),swfobject.embedSWF(a,f,g,h+30,"9.0.0",{file:e,image:d.attr("poster"),skin:b},{movie:e,wmode:"opaque",allowfullscreen:"true"})}),d.remove())})}function wrapFlashVideos(){$("object").each(function(a,b){$(b).find("param[name=movie]").length&&$(b).wrap('<div class="flash-video">')}),$("iframe[src*=vimeo],iframe[src*=youtube]").wrap('<div class="flash-video">')}function renderDeliciousLinks(a){for(var b="<ul>",c=0,d=a.length;d>c;c++)b+='<li><a href="'+a[c].u+'" title="Tags: '+(""==a[c].t?"":a[c].t.join(", "))+'">'+a[c].d+"</a></li>";b+="</ul>",$("#delicious").html(b)}$("document").ready(function(){testFeatures(),wrapFlashVideos(),flashVideoFallback(),addCodeLineNumbers(),getNav(),addSidebarToggler()}),function(a){function b(){g.content="width=device-width,minimum-scale="+f[0]+",maximum-scale="+f[1],a.removeEventListener(d,b,!0)}var c="addEventListener",d="gesturestart",e="querySelectorAll",f=[1,1],g=e in a?a[e]("meta[name=viewport]"):[];(g=g[g.length-1])&&c in a&&(b(),f=[.25,1.6],a[c](d,b,!0))}(document);var swfobject=function(){function a(a,c,d){var h,j=b(d);if(k.wk&&k.wk<312)return h;if(j)if(typeof a.id==e&&(a.id=d),k.ie&&k.win){var l,m="";for(l in a)a[l]!=Object.prototype[l]&&("data"==l.toLowerCase()?c.movie=a[l]:"styleclass"==l.toLowerCase()?m+=' class="'+a[l]+'"':"classid"!=l.toLowerCase()&&(m+=" "+l+'="'+a[l]+'"'));l="";for(var n in c)c[n]!=Object.prototype[n]&&(l+='<param name="'+n+'" value="'+c[n]+'" />');j.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+m+">"+l+"</object>",h=b(a.id)}else{n=i.createElement(f),n.setAttribute("type",g);for(var o in a)a[o]!=Object.prototype[o]&&("styleclass"==o.toLowerCase()?n.setAttribute("class",a[o]):"classid"!=o.toLowerCase()&&n.setAttribute(o,a[o]));for(m in c)c[m]!=Object.prototype[m]&&"movie"!=m.toLowerCase()&&(a=n,l=m,o=c[m],d=i.createElement("param"),d.setAttribute("name",l),d.setAttribute("value",o),a.appendChild(d));j.parentNode.replaceChild(n,j),h=n}return h}function b(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function c(a){var b=k.pv,a=a.split(".");return a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||0,a[2]=parseInt(a[2],10)||0,b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function d(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=e?encodeURIComponent(a):a}var e="undefined",f="object",g="application/x-shockwave-flash",h=window,i=document,j=navigator,k=function(){var a=typeof i.getElementById!=e&&typeof i.getElementsByTagName!=e&&typeof i.createElement!=e,b=j.userAgent.toLowerCase(),c=j.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,k=!1,l=[0,0,0],m=null;if(typeof j.plugins!=e&&typeof j.plugins["Shockwave Flash"]==f)!(m=j.plugins["Shockwave Flash"].description)||typeof j.mimeTypes!=e&&j.mimeTypes[g]&&!j.mimeTypes[g].enabledPlugin||(k=!1,m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=parseInt(m.replace(/^(.*)\..*$/,"$1"),10),l[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10),l[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=e)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");n&&(m=n.GetVariable("$version"))&&(k=!0,m=m.split(" ")[1].split(","),l=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)])}catch(o){}return{w3:a,pv:l,wk:b,ie:k,win:d,mac:c}}();return{embedSWF:function(b,d,g,h,i,j,l,m,n){var o={success:!1,id:d};if(k.w3&&!(k.wk&&k.wk<312)&&b&&d&&g&&h&&i){g+="",h+="";var p={};if(m&&typeof m===f)for(var q in m)p[q]=m[q];if(p.data=b,p.width=g,p.height=h,b={},l&&typeof l===f)for(var r in l)b[r]=l[r];if(j&&typeof j===f)for(var s in j)typeof b.flashvars!=e?b.flashvars+="&"+s+"="+j[s]:b.flashvars=s+"="+j[s];c(i)&&(d=a(p,b,d),o.success=!0,o.ref=d)}n&&n(o)},ua:k,getFlashPlayerVersion:function(){return{major:k.pv[0],minor:k.pv[1],release:k.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(b,c,d){return k.w3?a(b,c,d):void 0},getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return d(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return d(b[c].substring(b[c].indexOf("=")+1))}return""}}}();$(function(){$(".contact-modal").on("shown",function(){$(this).find('input[type="text"]').focus()}),$("form").each(function(a,b){var c=$(b);c.find(".defer-invalid").length&&c.find('input[type="submit"]').click(function(){c.find(":invalid").removeClass("defer-invalid")})}),$(".defer-invalid").on("change submit",function(){$(this).parent().find(":invalid").length?$(this).removeClass("defer-invalid"):$(this).addClass("defer-invalid")}),$(".contact-modal").submit(function(){var a=$(this);if(a.find('input[type="checkbox"]').prop("checked")){var b=a.find("form"),c=b.find('input[type="email"]').val(),d=$(".subscribe-form"),e=d.find('input[type="email"]');e.val(c),setTimeout(function(){d.submit(),e.val("")},500)}a.modal("hide")}),$(".contact-modal").on("hide",function(){$('a[data-target=".contact-modal.hide.fade"]').button("toggle")}),$("#contact-form-frame").load(function(){var a=$(".alert");a.addClass("alert-success"),a.find("strong").text("Thanks!"),a.find("span").text("I'll get back to you ASAP!"),a.slideToggle(200),setTimeout(function(){a.is(":visible")&&a.slideToggle(200)},4e3)})});