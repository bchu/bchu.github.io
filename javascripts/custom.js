function getNav(){var a=$("ul.main-navigation, ul[role=main-navigation]").before('<fieldset class="mobile-nav">'),b=$("fieldset.mobile-nav").append("<select>");b.find("select").append('<option value="">Navigate&hellip;</option>');var c=function(){b.find("select").append('<option value="'+this.href+'">&raquo; '+$(this).text()+"</option>")};a.find("a").each(c),$("ul.subscription a").each(c),b.find("select").bind("change",function(a){a.target.value&&(window.location.href=a.target.value)})}function addSidebarToggler(){$("body").hasClass("sidebar-footer")||($("#content").append('<span class="toggle-sidebar"></span>'),$(".toggle-sidebar").bind("click",function(a){a.preventDefault(),$("body").hasClass("collapse-sidebar")?$("body").removeClass("collapse-sidebar"):$("body").addClass("collapse-sidebar")}));var a=$("aside.sidebar > section");a.length>1&&a.each(function(b,c){a.length>=3&&0===b%3&&$(c).addClass("first");var d=(b+1)%2?"odd":"even";$(c).addClass(d)}),a.length>=3&&$("aside.sidebar").addClass("thirds")}function testFeatures(){var a=["maskImage"];$(a).map(function(a,b){Modernizr.testAllProps(b)?$("html").addClass(b):$("html").addClass("no-"+b)}),"placeholder"in document.createElement("input")?$("html").addClass("placeholder"):$("html").addClass("no-placeholder")}function addCodeLineNumbers(){"Microsoft Internet Explorer"!==navigator.appName&&$("div.gist-highlight").each(function(a){for(var b='<table><tbody><tr><td class="gutter">',c='<pre class="line-numbers">',d='</pre></td><td class="code">',e="</td></tr></tbody></table>",f=$(".line",a).length,g=1;f>=g;g++)c+='<span class="line-number">'+g+"</span>\n";var h=b+c+d+"<pre>"+$("pre",a).html()+"</pre>"+e;$(a).html(h)})}function flashVideoFallback(){var a="/assets/jwplayer/player.swf",b="/assets/jwplayer/glow/glow.xml";$("video").each(function(c,d){d=$(d),(!Modernizr.video.h264&&swfobject.getFlashPlayerVersion()||-1!==window.location.hash.indexOf("flash-test"))&&(d.children("source[src$=mp4]").first().map(c,function(c){var e=$(c).attr("src"),f="video_"+Math.round(1+1e5*Math.random()),g=d.attr("width"),h=parseInt(d.attr("height"),10)+30;d.after('<div class="flash-video"><div><div id='+f+">"),swfobject.embedSWF(a,f,g,h+30,"9.0.0",{file:e,image:d.attr("poster"),skin:b},{movie:e,wmode:"opaque",allowfullscreen:"true"})}),d.remove())})}function wrapFlashVideos(){$("object").each(function(a,b){$(b).find("param[name=movie]").length&&$(b).wrap('<div class="flash-video">')}),$("iframe[src*=vimeo],iframe[src*=youtube]").wrap('<div class="flash-video">')}function renderDeliciousLinks(a){for(var b="<ul>",c=0,d=a.length;d>c;c++)b+='<li><a href="'+a[c].u+'" title="Tags: '+(""==a[c].t?"":a[c].t.join(", "))+'">'+a[c].d+"</a></li>";b+="</ul>",$("#delicious").html(b)}$("document").ready(function(){testFeatures(),wrapFlashVideos(),flashVideoFallback(),addCodeLineNumbers(),getNav(),addSidebarToggler()}),function(a){function b(){g.content="width=device-width,minimum-scale="+f[0]+",maximum-scale="+f[1],a.removeEventListener(d,b,!0)}var c="addEventListener",d="gesturestart",e="querySelectorAll",f=[1,1],g=e in a?a[e]("meta[name=viewport]"):[];(g=g[g.length-1])&&c in a&&(b(),f=[.25,1.6],a[c](d,b,!0))}(document);var swfobject=function(){function a(a,c,d){var h,j=b(d);if(k.wk&&k.wk<312)return h;if(j)if(typeof a.id==e&&(a.id=d),k.ie&&k.win){var l,m="";for(l in a)a[l]!=Object.prototype[l]&&("data"==l.toLowerCase()?c.movie=a[l]:"styleclass"==l.toLowerCase()?m+=' class="'+a[l]+'"':"classid"!=l.toLowerCase()&&(m+=" "+l+'="'+a[l]+'"'));l="";for(var n in c)c[n]!=Object.prototype[n]&&(l+='<param name="'+n+'" value="'+c[n]+'" />');j.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+m+">"+l+"</object>",h=b(a.id)}else{n=i.createElement(f),n.setAttribute("type",g);for(var o in a)a[o]!=Object.prototype[o]&&("styleclass"==o.toLowerCase()?n.setAttribute("class",a[o]):"classid"!=o.toLowerCase()&&n.setAttribute(o,a[o]));for(m in c)c[m]!=Object.prototype[m]&&"movie"!=m.toLowerCase()&&(a=n,l=m,o=c[m],d=i.createElement("param"),d.setAttribute("name",l),d.setAttribute("value",o),a.appendChild(d));j.parentNode.replaceChild(n,j),h=n}return h}function b(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function c(a){var b=k.pv,a=a.split(".");return a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||0,a[2]=parseInt(a[2],10)||0,b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function d(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=e?encodeURIComponent(a):a}var e="undefined",f="object",g="application/x-shockwave-flash",h=window,i=document,j=navigator,k=function(){var a=typeof i.getElementById!=e&&typeof i.getElementsByTagName!=e&&typeof i.createElement!=e,b=j.userAgent.toLowerCase(),c=j.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,k=!1,l=[0,0,0],m=null;if(typeof j.plugins!=e&&typeof j.plugins["Shockwave Flash"]==f)!(m=j.plugins["Shockwave Flash"].description)||typeof j.mimeTypes!=e&&j.mimeTypes[g]&&!j.mimeTypes[g].enabledPlugin||(k=!1,m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=parseInt(m.replace(/^(.*)\..*$/,"$1"),10),l[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10),l[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=e)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");n&&(m=n.GetVariable("$version"))&&(k=!0,m=m.split(" ")[1].split(","),l=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)])}catch(o){}return{w3:a,pv:l,wk:b,ie:k,win:d,mac:c}}();return{embedSWF:function(b,d,g,h,i,j,l,m,n){var o={success:!1,id:d};if(k.w3&&!(k.wk&&k.wk<312)&&b&&d&&g&&h&&i){g+="",h+="";var p={};if(m&&typeof m===f)for(var q in m)p[q]=m[q];if(p.data=b,p.width=g,p.height=h,b={},l&&typeof l===f)for(var r in l)b[r]=l[r];if(j&&typeof j===f)for(var s in j)typeof b.flashvars!=e?b.flashvars+="&"+s+"="+j[s]:b.flashvars=s+"="+j[s];c(i)&&(d=a(p,b,d),o.success=!0,o.ref=d)}n&&n(o)},ua:k,getFlashPlayerVersion:function(){return{major:k.pv[0],minor:k.pv[1],release:k.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(b,c,d){return k.w3?a(b,c,d):void 0},getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return d(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return d(b[c].substring(b[c].indexOf("=")+1))}return""}}}();!function(){if(function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(window.mobile=!0)}(navigator.userAgent||navigator.vendor||window.opera),Modernizr.load({test:window.mobile,yep:"//cdnjs.cloudflare.com/ajax/libs/fastclick/0.6.7/fastclick.min.js",complete:function(){window.FastClick&&FastClick.attach(document.body)}}),!window.console)for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console={};d--;)a=c[d],e[a]||(e[a]=b)}(),$(function(){var a=$(window),b=$('.side-email input[type="email"]').filter(function(a,b){return $(b).is(":visible")});b.position().top+b.height()<a.height()&&b.focus(),$(".contact-modal").on("shown",function(){$(this).find('input[type="text"]').focus()}),$("form").each(function(a,b){var c=$(b);c.find(".defer-invalid").length&&c.find('input[type="submit"]').click(function(){c.find(":invalid").removeClass("defer-invalid")})}),$(".defer-invalid").on("change submit",function(){$(this).parent().find(":invalid").length?$(this).removeClass("defer-invalid"):$(this).addClass("defer-invalid")}),$(".contact-modal").submit(function(){var a=$(this);if(a.find('input[type="checkbox"]').prop("checked")){var b=a.find("form"),c=b.find('input[type="email"]').val(),d=$(".subscribe-form"),e=d.find('input[type="email"]');e.val(c),setTimeout(function(){d.submit(),e.val("")},500)}a.modal("hide")}),$(".contact-modal").on("hide",function(){$('a[data-target=".contact-modal.hide.fade"]').button("toggle")}),$("#contact-form-frame").load(function(){var a=$(".alert");a.addClass("alert-success"),a.find("strong").text("Thanks!"),a.find("span").text("I'll get back to you ASAP!"),a.slideToggle(200),setTimeout(function(){a.is(":visible")&&a.slideToggle(200)},4e3)});var c=!1,d=function(){c=!c,$this=$(this),$this.toggleClass("force-hide"),$this.parent().toggleClass("fullwidth"),$this.siblings(".input-padding-wrapper").toggleClass("inline-block"),$this.siblings("a").toggleClass("force-hide"),$(".nav-list li").toggleClass("force-hide")};$(".search-toggle, .close-search").click(d),a.resize(function(){if(c){var b=a.width();b>767&&d.call($(".close-search")[0])}});var e=!1,f=function(a){e=!e,$this=$(this),$nav=$this.siblings(".side-nav"),$nav.slideToggle(a,function(){"none"===$nav.css("display")&&$nav.css("display","")})};$(".menu-btn").click(function(){f.call(this,300)}),a.resize(function(){if(e){var b=a.width();b>440&&f.call($(".menu-btn")[0],0)}})});